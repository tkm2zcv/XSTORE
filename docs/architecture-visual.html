<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitter „Ç¢„Ç´„Ç¶„É≥„ÉàË≤∑ÂèñË≤©Â£≤„Çµ„Ç§„Éà - „Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .architecture-diagram {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
            margin-bottom: 50px;
        }

        .layer {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .layer:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }

        .layer-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
            text-align: center;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .component {
            background: white;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .component:hover {
            background: #f0f4ff;
            transform: translateX(5px);
        }

        .component-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .component-desc {
            font-size: 0.85em;
            color: #666;
        }

        .data-flow {
            margin-top: 50px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .flow-title {
            font-size: 1.8em;
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
        }

        .flow-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .flow-number {
            background: #667eea;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .flow-content {
            flex: 1;
        }

        .flow-step {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .flow-details {
            color: #666;
            font-size: 0.9em;
        }

        .tech-stack {
            margin-top: 40px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .tech-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .tech-item:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .tech-name {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .tech-purpose {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 15px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 30px;
            cursor: pointer;
            color: #999;
            transition: color 0.2s;
        }

        .modal-close:hover {
            color: #667eea;
        }

        .modal-title {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .modal-section {
            margin: 20px 0;
        }

        .modal-section-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .modal-list {
            list-style: none;
            padding-left: 0;
        }

        .modal-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .modal-list li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }

        .arrow {
            text-align: center;
            color: #667eea;
            font-size: 2em;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .architecture-diagram {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.8em;
            }
        }

        .legend {
            margin-top: 30px;
            padding: 20px;
            background: #fff3cd;
            border-radius: 10px;
            border-left: 4px solid #ffc107;
        }

        .legend-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
        }

        .legend-item {
            color: #856404;
            margin: 5px 0;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèóÔ∏è „Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£</h1>
        <p class="subtitle">Twitter „Ç¢„Ç´„Ç¶„É≥„ÉàË≤∑ÂèñË≤©Â£≤„Çµ„Ç§„Éà - „Ç∑„Çπ„ÉÜ„É†ÊßãÊàêÂõ≥</p>

        <!-- „Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£Âõ≥ -->
        <div class="architecture-diagram">
            <!-- „Éï„É≠„É≥„Éà„Ç®„É≥„ÉâÂ±§ -->
            <div class="layer">
                <div class="layer-title">üé® „Éï„É≠„É≥„Éà„Ç®„É≥„Éâ</div>
                <div class="component" onclick="showModal('nextjs')">
                    <div class="component-name">Next.js 15 (App Router)</div>
                    <div class="component-desc">„Çµ„Éº„Éê„Éº/„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà</div>
                </div>
                <div class="component" onclick="showModal('pages')">
                    <div class="component-name">ÂÖ¨Èñã„Éö„Éº„Ç∏</div>
                    <div class="component-desc">/, /accounts, /purchase</div>
                </div>
                <div class="component" onclick="showModal('admin')">
                    <div class="component-name">ÁÆ°ÁêÜÁîªÈù¢</div>
                    <div class="component-desc">/admin/*, /login</div>
                </div>
                <div class="component" onclick="showModal('ui')">
                    <div class="component-name">UI „Ç≥„É≥„Éù„Éº„Éç„É≥„Éà</div>
                    <div class="component-desc">Shadcn/ui + Tailwind CSS</div>
                </div>
            </div>

            <!-- „Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâÂ±§ -->
            <div class="layer">
                <div class="layer-title">‚öôÔ∏è „Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ</div>
                <div class="component" onclick="showModal('middleware')">
                    <div class="component-name">Middleware</div>
                    <div class="component-desc">Ë™çË®º„ÉÅ„Çß„ÉÉ„ÇØ„ÄÅ„É™„ÉÄ„Ç§„É¨„ÇØ„Éà</div>
                </div>
                <div class="component" onclick="showModal('api')">
                    <div class="component-name">API Routes</div>
                    <div class="component-desc">/api/accounts, /api/purchase-requests</div>
                </div>
                <div class="component" onclick="showModal('auth')">
                    <div class="component-name">NextAuth.js</div>
                    <div class="component-desc">JWTË™çË®º„ÄÅ„Çª„ÉÉ„Ç∑„Éß„É≥ÁÆ°ÁêÜ</div>
                </div>
                <div class="component" onclick="showModal('validation')">
                    <div class="component-name">„Éê„É™„Éá„Éº„Ç∑„Éß„É≥</div>
                    <div class="component-desc">Zod „Çπ„Ç≠„Éº„Éû</div>
                </div>
                <div class="component" onclick="showModal('ratelimit')">
                    <div class="component-name">Rate Limiting</div>
                    <div class="component-desc">API‰øùË≠∑„ÄÅDDoSÂØæÁ≠ñ</div>
                </div>
            </div>

            <!-- „Éá„Éº„Çø„Éô„Éº„ÇπÂ±§ -->
            <div class="layer">
                <div class="layer-title">üíæ „Éá„Éº„Çø„Éô„Éº„Çπ</div>
                <div class="component" onclick="showModal('supabase')">
                    <div class="component-name">Supabase (PostgreSQL)</div>
                    <div class="component-desc">„Éû„Éç„Éº„Ç∏„Éâ„Éá„Éº„Çø„Éô„Éº„Çπ</div>
                </div>
                <div class="component" onclick="showModal('tables')">
                    <div class="component-name">„ÉÜ„Éº„Éñ„É´</div>
                    <div class="component-desc">accounts, purchase_requests, admins</div>
                </div>
                <div class="component" onclick="showModal('indexes')">
                    <div class="component-name">„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ</div>
                    <div class="component-desc">„Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊúÄÈÅ©Âåñ</div>
                </div>
                <div class="component" onclick="showModal('rls')">
                    <div class="component-name">Row Level Security</div>
                    <div class="component-desc">„Éá„Éº„Çø„Ç¢„ÇØ„Çª„ÇπÂà∂Âæ°</div>
                </div>
            </div>
        </div>

        <!-- „Éá„Éº„Çø„Éï„É≠„Éº -->
        <div class="data-flow">
            <h2 class="flow-title">üìä „Éá„Éº„Çø„Éï„É≠„ÉºÔºàË≤∑ÂèñÁî≥Ëæº„ÅÆ‰æãÔºâ</h2>

            <div class="flow-item">
                <div class="flow-number">1</div>
                <div class="flow-content">
                    <div class="flow-step">„É¶„Éº„Ç∂„Éº„Åå„Éï„Ç©„Éº„É†ÈÄÅ‰ø°</div>
                    <div class="flow-details"><code>POST /api/purchase-requests</code> - „Éï„Ç©„Éº„É†„Éá„Éº„Çø„ÇíÈÄÅ‰ø°</div>
                </div>
            </div>

            <div class="flow-item">
                <div class="flow-number">2</div>
                <div class="flow-content">
                    <div class="flow-step">Rate Limiting „ÉÅ„Çß„ÉÉ„ÇØ</div>
                    <div class="flow-details">Âêå‰∏ÄIP„Åã„Çâ„ÅÆÈÄ£Á∂ö„É™„ÇØ„Ç®„Çπ„Éà„ÇíÂà∂ÈôêÔºà5Âõû/15ÂàÜÔºâ</div>
                </div>
            </div>

            <div class="flow-item">
                <div class="flow-number">3</div>
                <div class="flow-content">
                    <div class="flow-step">„Éê„É™„Éá„Éº„Ç∑„Éß„É≥</div>
                    <div class="flow-details">Zod „Çπ„Ç≠„Éº„Éû„Åß„Éá„Éº„ÇøÊ§úË®ºÔºàTwitter ID„ÄÅ‰æ°Ê†º„ÄÅÈÄ£Áµ°ÂÖà„Å™„Å©Ôºâ</div>
                </div>
            </div>

            <div class="flow-item">
                <div class="flow-number">4</div>
                <div class="flow-content">
                    <div class="flow-step">„Éá„Éº„Çø„Éô„Éº„Çπ‰øùÂ≠ò</div>
                    <div class="flow-details">Supabase „ÅÆ <code>purchase_requests</code> „ÉÜ„Éº„Éñ„É´„Å´INSERT</div>
                </div>
            </div>

            <div class="flow-item">
                <div class="flow-number">5</div>
                <div class="flow-content">
                    <div class="flow-step">„É≠„Ç∞Ë®òÈå≤</div>
                    <div class="flow-details">ÊßãÈÄ†Âåñ„É≠„Ç∞„ÅßÁî≥ËæºÊÉÖÂ†±„ÇíË®òÈå≤ÔºàÁõ£Ë¶ñ„ÉªÂàÜÊûêÁî®Ôºâ</div>
                </div>
            </div>

            <div class="flow-item">
                <div class="flow-number">6</div>
                <div class="flow-content">
                    <div class="flow-step">„É¨„Çπ„Éù„É≥„ÇπËøîÂç¥</div>
                    <div class="flow-details">ÊàêÂäü„É°„ÉÉ„Çª„Éº„Ç∏„Å®„Éá„Éº„Çø„ÇíJSONÂΩ¢Âºè„ÅßËøîÂç¥</div>
                </div>
            </div>
        </div>

        <!-- ÊäÄË°ì„Çπ„Çø„ÉÉ„ÇØ -->
        <h2 class="flow-title">üõ†Ô∏è ÊäÄË°ì„Çπ„Çø„ÉÉ„ÇØ</h2>
        <div class="tech-stack">
            <div class="tech-item">
                <div class="tech-name">Next.js 15</div>
                <div class="tech-purpose">„Éï„É´„Çπ„Çø„ÉÉ„ÇØ„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ</div>
            </div>
            <div class="tech-item">
                <div class="tech-name">TypeScript</div>
                <div class="tech-purpose">ÂûãÂÆâÂÖ®ÊÄß</div>
            </div>
            <div class="tech-item">
                <div class="tech-name">Supabase</div>
                <div class="tech-purpose">PostgreSQL + Ë™çË®º</div>
            </div>
            <div class="tech-item">
                <div class="tech-name">NextAuth.js</div>
                <div class="tech-purpose">JWTË™çË®º</div>
            </div>
            <div class="tech-item">
                <div class="tech-name">Zod</div>
                <div class="tech-purpose">„Çπ„Ç≠„Éº„Éû„Éê„É™„Éá„Éº„Ç∑„Éß„É≥</div>
            </div>
            <div class="tech-item">
                <div class="tech-name">Tailwind CSS</div>
                <div class="tech-purpose">„Çπ„Çø„Ç§„É™„É≥„Ç∞</div>
            </div>
        </div>

        <!-- Âá°‰æã -->
        <div class="legend">
            <div class="legend-title">üí° ‰Ωø„ÅÑÊñπ</div>
            <div class="legend-item">üñ±Ô∏è ÂêÑ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Çí„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®Ë©≥Á¥∞ÊÉÖÂ†±„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô</div>
            <div class="legend-item">üì± „É¢„Éê„Ç§„É´„Åß„ÇÇË¶ã„ÇÑ„Åô„ÅÑ„É¨„Çπ„Éù„É≥„Ç∑„Éñ„Éá„Ç∂„Ç§„É≥</div>
            <div class="legend-item">üìö Ë©≥Á¥∞„Å™„Éâ„Ç≠„É•„É°„É≥„Éà„ÅØ docs/backend-architecture.md „ÇíÂèÇÁÖß</div>
        </div>
    </div>

    <!-- „É¢„Éº„ÉÄ„É´ -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        const modalContent = {
            nextjs: {
                title: 'Next.js 15 (App Router)',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: 'React „Éô„Éº„Çπ„ÅÆ„Éï„É´„Çπ„Çø„ÉÉ„ÇØ„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„ÄÇ„Çµ„Éº„Éê„Éº„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Å®„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶„ÄÅ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å®„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„Éì„ÉÜ„Ç£„Çí‰∏°Á´ã„Åó„Åæ„Åô„ÄÇ'
                    },
                    {
                        title: '‰∏ª„Å™Ê©üËÉΩ',
                        list: [
                            'Server Components - „Çµ„Éº„Éê„Éº„Çµ„Ç§„Éâ„É¨„É≥„ÉÄ„É™„É≥„Ç∞',
                            'Client Components - „Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„ÉñUI',
                            'API Routes - „Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâAPI',
                            'Middleware - „É™„ÇØ„Ç®„Çπ„ÉàÂá¶ÁêÜ',
                            'Image Optimization - ÁîªÂÉèÊúÄÈÅ©Âåñ',
                            'TypeScript „Çµ„Éù„Éº„Éà'
                        ]
                    },
                    {
                        title: '„Éï„Ç°„Ç§„É´„Éë„Çπ',
                        list: [
                            'app/ - „Éö„Éº„Ç∏„Å®„É¨„Ç§„Ç¢„Ç¶„Éà',
                            'app/api/ - API„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà',
                            'middleware.ts - Ë™çË®ºÂá¶ÁêÜ'
                        ]
                    }
                ]
            },
            pages: {
                title: 'ÂÖ¨Èñã„Éö„Éº„Ç∏',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: '‰∏ÄËà¨„É¶„Éº„Ç∂„Éº„Åå„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„ÇãÂÖ¨Èñã„Éö„Éº„Ç∏„ÄÇË™çË®º‰∏çË¶Å„Åß„Ç¢„Ç´„Ç¶„É≥„ÉàÈñ≤Ë¶ß„ÇÑË≤∑ÂèñÁî≥Ëæº„Åå„Åß„Åç„Åæ„Åô„ÄÇ'
                    },
                    {
                        title: '„Éö„Éº„Ç∏‰∏ÄË¶ß',
                        list: [
                            '/ - „Éà„ÉÉ„Éó„Éö„Éº„Ç∏Ôºà„Éí„Éº„É≠„Éº„ÄÅÊ≥®ÁõÆ„Ç¢„Ç´„Ç¶„É≥„ÉàÔºâ',
                            '/accounts - Ë≤©Â£≤‰∏≠„Ç¢„Ç´„Ç¶„É≥„Éà‰∏ÄË¶ß',
                            '/accounts/[id] - „Ç¢„Ç´„Ç¶„É≥„ÉàË©≥Á¥∞',
                            '/purchase - Ë≤∑ÂèñÁî≥Ëæº„Éï„Ç©„Éº„É†',
                            '/terms - Âà©Áî®Ë¶èÁ¥Ñ',
                            '/privacy - „Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº'
                        ]
                    }
                ]
            },
            admin: {
                title: 'ÁÆ°ÁêÜÁîªÈù¢',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: 'Ë™çË®º„ÅåÂøÖË¶Å„Å™ÁÆ°ÁêÜËÄÖÂ∞ÇÁî®ÁîªÈù¢„ÄÇ„Ç¢„Ç´„Ç¶„É≥„ÉàÁÆ°ÁêÜ„Å®Ë≤∑ÂèñÁî≥Ëæº„ÅÆÂá¶ÁêÜ„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ'
                    },
                    {
                        title: '„Éö„Éº„Ç∏‰∏ÄË¶ß',
                        list: [
                            '/login - „É≠„Ç∞„Ç§„É≥„Éö„Éº„Ç∏',
                            '/admin - „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ',
                            '/admin/accounts - „Ç¢„Ç´„Ç¶„É≥„ÉàÁÆ°ÁêÜ',
                            '/admin/accounts/new - Êñ∞Ë¶èÂá∫ÂìÅ',
                            '/admin/accounts/[id]/edit - Á∑®ÈõÜ',
                            '/admin/requests - Ë≤∑ÂèñÁî≥ËæºÁÆ°ÁêÜ'
                        ]
                    },
                    {
                        title: '„Çª„Ç≠„É•„É™„ÉÜ„Ç£',
                        list: [
                            'Middleware „Å´„Çà„ÇãË™çË®º„ÉÅ„Çß„ÉÉ„ÇØ',
                            'Layout „Åß„ÅÆ‰∫åÈáç„ÉÅ„Çß„ÉÉ„ÇØ',
                            '„Çª„ÉÉ„Ç∑„Éß„É≥„Éô„Éº„ÇπË™çË®º',
                            'CSRF‰øùË≠∑'
                        ]
                    }
                ]
            },
            ui: {
                title: 'UI „Ç≥„É≥„Éù„Éº„Éç„É≥„Éà',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: 'Shadcn/ui „Å® Tailwind CSS „Çí‰ΩøÁî®„Åó„Åü„É¢„ÉÄ„É≥„Å™UI„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÄÇ'
                    },
                    {
                        title: '„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà',
                        list: [
                            'Button - „Éú„Çø„É≥',
                            'Input - ÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ',
                            'Card - „Ç´„Éº„Éâ',
                            'Table - „ÉÜ„Éº„Éñ„É´',
                            'Select - „Çª„É¨„ÇØ„Éà„Éú„ÉÉ„ÇØ„Çπ',
                            'Dialog - „ÉÄ„Ç§„Ç¢„É≠„Ç∞'
                        ]
                    },
                    {
                        title: '„ÉÜ„Éº„Éû',
                        list: [
                            '„Éó„É©„Ç§„Éû„É™„Ç´„É©„Éº: Cyan 500',
                            '„ÉÄ„Éº„ÇØ„É¢„Éº„ÉâÂØæÂøú',
                            '„É¨„Çπ„Éù„É≥„Ç∑„Éñ„Éá„Ç∂„Ç§„É≥',
                            '„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£ÂØæÂøú'
                        ]
                    }
                ]
            },
            middleware: {
                title: 'Middleware',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: '„É™„ÇØ„Ç®„Çπ„Éà„ÇíÂá¶ÁêÜ„Åô„ÇãÂâç„Å´ÂÆüË°å„Åï„Çå„Çã„Éü„Éâ„É´„Ç¶„Çß„Ç¢„ÄÇ‰∏ª„Å´Ë™çË®º„ÉÅ„Çß„ÉÉ„ÇØ„Å®„É™„ÉÄ„Ç§„É¨„ÇØ„Éà„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ'
                    },
                    {
                        title: 'Ê©üËÉΩ',
                        list: [
                            'JWT „Éà„Éº„ÇØ„É≥„ÅÆÊ§úË®º',
                            'Êú™Ë™çË®ºÊôÇ„ÅÆ„É™„ÉÄ„Ç§„É¨„ÇØ„Éà',
                            '„É≠„Ç∞„Ç§„É≥„Éö„Éº„Ç∏„ÅØ‰øùË≠∑ÂØæË±°Â§ñ',
                            'CallbackURL „ÅÆ‰øùÂ≠ò'
                        ]
                    },
                    {
                        title: '„Éï„Ç°„Ç§„É´„Éë„Çπ',
                        list: [
                            'middleware.ts'
                        ]
                    }
                ]
            },
            api: {
                title: 'API Routes',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: 'RESTful API„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÄÇ„Éá„Éº„Çø„ÅÆÂèñÂæó„Éª‰ΩúÊàê„ÉªÊõ¥Êñ∞„ÉªÂâäÈô§„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ'
                    },
                    {
                        title: '„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà',
                        list: [
                            'GET /api/accounts - „Ç¢„Ç´„Ç¶„É≥„Éà‰∏ÄË¶ß',
                            'POST /api/accounts - „Ç¢„Ç´„Ç¶„É≥„Éà‰ΩúÊàê',
                            'GET /api/accounts/[id] - „Ç¢„Ç´„Ç¶„É≥„ÉàË©≥Á¥∞',
                            'PUT /api/accounts/[id] - „Ç¢„Ç´„Ç¶„É≥„ÉàÊõ¥Êñ∞',
                            'DELETE /api/accounts/[id] - „Ç¢„Ç´„Ç¶„É≥„ÉàÂâäÈô§',
                            'GET /api/purchase-requests - Ë≤∑ÂèñÁî≥Ëæº‰∏ÄË¶ß',
                            'POST /api/purchase-requests - Ë≤∑ÂèñÁî≥Ëæº‰ΩúÊàê',
                            'PATCH /api/purchase-requests/[id] - „Çπ„ÉÜ„Éº„Çø„ÇπÊõ¥Êñ∞'
                        ]
                    },
                    {
                        title: '„Çª„Ç≠„É•„É™„ÉÜ„Ç£',
                        list: [
                            'ÁÆ°ÁêÜËÄÖAPI„ÅØË™çË®ºÂøÖÈ†à',
                            'Rate Limiting',
                            'Zod„Éê„É™„Éá„Éº„Ç∑„Éß„É≥',
                            '„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞'
                        ]
                    }
                ]
            },
            auth: {
                title: 'NextAuth.js',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: 'JWT „Éô„Éº„Çπ„ÅÆË™çË®º„Ç∑„Çπ„ÉÜ„É†„ÄÇÁÆ°ÁêÜËÄÖ„ÅÆ„É≠„Ç∞„Ç§„É≥„Éª„É≠„Ç∞„Ç¢„Ç¶„Éà„Éª„Çª„ÉÉ„Ç∑„Éß„É≥ÁÆ°ÁêÜ„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ'
                    },
                    {
                        title: 'Ë™çË®º„Éï„É≠„Éº',
                        list: [
                            '1. „É≠„Ç∞„Ç§„É≥„Éï„Ç©„Éº„É†ÈÄÅ‰ø°',
                            '2. Supabase „ÅßÁÆ°ÁêÜËÄÖÊ§úË®º',
                            '3. bcrypt „Åß„Éë„Çπ„ÉØ„Éº„ÉâÁÖßÂêà',
                            '4. JWT „Éà„Éº„ÇØ„É≥ÁîüÊàê',
                            '5. „Çª„ÉÉ„Ç∑„Éß„É≥‰øùÂ≠ò',
                            '6. ÁÆ°ÁêÜÁîªÈù¢„Å∏„É™„ÉÄ„Ç§„É¨„ÇØ„Éà'
                        ]
                    },
                    {
                        title: '„Éï„Ç°„Ç§„É´„Éë„Çπ',
                        list: [
                            'app/api/auth/[...nextauth]/route.ts',
                            'lib/auth.ts',
                            'lib/auth-helpers.ts'
                        ]
                    }
                ]
            },
            validation: {
                title: '„Éê„É™„Éá„Éº„Ç∑„Éß„É≥ (Zod)',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: 'TypeScript-first „Å™„Çπ„Ç≠„Éº„ÉûÂÆ£Ë®Ä„Å®„Éê„É™„Éá„Éº„Ç∑„Éß„É≥„É©„Ç§„Éñ„É©„É™„ÄÇAPI„ÅÆÂÖ•Âäõ„Éá„Éº„Çø„ÇíÊ§úË®º„Åó„Åæ„Åô„ÄÇ'
                    },
                    {
                        title: '„Çπ„Ç≠„Éº„Éû',
                        list: [
                            'createAccountSchema - „Ç¢„Ç´„Ç¶„É≥„Éà‰ΩúÊàê',
                            'updateAccountSchema - „Ç¢„Ç´„Ç¶„É≥„ÉàÊõ¥Êñ∞',
                            'createPurchaseRequestSchema - Ë≤∑ÂèñÁî≥Ëæº',
                            'loginSchema - „É≠„Ç∞„Ç§„É≥'
                        ]
                    },
                    {
                        title: '„Éê„É™„Éá„Éº„Ç∑„Éß„É≥È†ÖÁõÆ',
                        list: [
                            'Twitter IDÂΩ¢Âºè„ÉÅ„Çß„ÉÉ„ÇØ',
                            '„É°„Éº„É´„Ç¢„Éâ„É¨„ÇπÂΩ¢Âºè„ÉÅ„Çß„ÉÉ„ÇØ',
                            '‰æ°Ê†ºÁØÑÂõ≤„ÉÅ„Çß„ÉÉ„ÇØ',
                            'ÂøÖÈ†àÈ†ÖÁõÆ„ÉÅ„Çß„ÉÉ„ÇØ',
                            'ÊñáÂ≠óÊï∞Âà∂Èôê'
                        ]
                    },
                    {
                        title: '„Éï„Ç°„Ç§„É´„Éë„Çπ',
                        list: [
                            'lib/validations.ts'
                        ]
                    }
                ]
            },
            ratelimit: {
                title: 'Rate Limiting',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: 'API‰øùË≠∑„ÅÆ„Åü„ÇÅ„ÅÆ„É¨„Éº„ÉàÂà∂Èôê„ÄÇÂêå‰∏Ä„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Åã„Çâ„ÅÆÈÅéÂ∫¶„Å™„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈò≤„Åé„Åæ„Åô„ÄÇ'
                    },
                    {
                        title: '„Éó„É™„Çª„ÉÉ„Éà',
                        list: [
                            'STRICT - 10„É™„ÇØ„Ç®„Çπ„Éà/ÂàÜÔºàÁÆ°ÁêÜAPIÔºâ',
                            'STANDARD - 30„É™„ÇØ„Ç®„Çπ„Éà/ÂàÜÔºà‰∏ÄËà¨APIÔºâ',
                            'AUTH - 5„É™„ÇØ„Ç®„Çπ„Éà/15ÂàÜÔºà„É≠„Ç∞„Ç§„É≥Ôºâ',
                            'PUBLIC_FORM - 5„É™„ÇØ„Ç®„Çπ„Éà/15ÂàÜÔºàÁî≥Ëæº„Éï„Ç©„Éº„É†Ôºâ'
                        ]
                    },
                    {
                        title: 'ÂÆüË£Ö',
                        list: [
                            'Sliding Window „Ç¢„É´„Ç¥„É™„Ç∫„É†',
                            'IP„Ç¢„Éâ„É¨„Çπ„Éô„Éº„Çπ',
                            'ÈñãÁô∫: „Ç§„É≥„É°„É¢„É™„Çπ„Éà„Ç¢',
                            'Êú¨Áï™: Upstash RedisÔºàÊé®Â•®Ôºâ'
                        ]
                    },
                    {
                        title: '„Éï„Ç°„Ç§„É´„Éë„Çπ',
                        list: [
                            'lib/rate-limit.ts'
                        ]
                    }
                ]
            },
            supabase: {
                title: 'Supabase (PostgreSQL)',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: '„Éû„Éç„Éº„Ç∏„ÉâPostgreSQL„Éá„Éº„Çø„Éô„Éº„Çπ„ÄÇ„É™„Ç¢„É´„Çø„Ç§„É†Ê©üËÉΩ„ÄÅË™çË®º„ÄÅ„Çπ„Éà„É¨„Éº„Ç∏„ÇíÊèê‰æõ„Åô„ÇãBaaSÔºàBackend as a ServiceÔºâ„ÄÇ'
                    },
                    {
                        title: '‰∏ª„Å™Ê©üËÉΩ',
                        list: [
                            'PostgreSQL „Éá„Éº„Çø„Éô„Éº„Çπ',
                            'RESTful API Ëá™ÂãïÁîüÊàê',
                            'Row Level Security (RLS)',
                            '„É™„Ç¢„É´„Çø„Ç§„É† subscriptions',
                            '„Çπ„Éà„É¨„Éº„Ç∏ (Â∞ÜÊù•ÁöÑ„Å´‰ΩøÁî®)',
                            '„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„ÉªÂæ©ÂÖÉ'
                        ]
                    },
                    {
                        title: 'Êé•Á∂öÊñπÊ≥ï',
                        list: [
                            '„Çµ„Éº„Éê„Éº„Çµ„Ç§„Éâ: Service Role Key',
                            '„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Çµ„Ç§„Éâ: Anon Key',
                            'Connection Pooling',
                            'SSL/TLS ÊöóÂè∑Âåñ'
                        ]
                    }
                ]
            },
            tables: {
                title: '„Éá„Éº„Çø„Éô„Éº„Çπ„ÉÜ„Éº„Éñ„É´',
                sections: [
                    {
                        title: 'accounts „ÉÜ„Éº„Éñ„É´',
                        list: [
                            'id (UUID) - „Éó„É©„Ç§„Éû„É™„Ç≠„Éº',
                            'username (VARCHAR) - Twitter ID',
                            'followers_count (INT) - „Éï„Ç©„É≠„ÉØ„ÉºÊï∞',
                            'tweets_count (INT) - ÊäïÁ®øÊï∞',
                            'price (INT) - ‰æ°Ê†ºÔºàÂÜÜÔºâ',
                            'category (VARCHAR) - „Ç´„ÉÜ„Ç¥„É™',
                            'description (TEXT) - Ë™¨Êòé',
                            'status (VARCHAR) - „Çπ„ÉÜ„Éº„Çø„Çπ',
                            'image_url (TEXT) - ÁîªÂÉèURL'
                        ]
                    },
                    {
                        title: 'purchase_requests „ÉÜ„Éº„Éñ„É´',
                        list: [
                            'id (UUID) - „Éó„É©„Ç§„Éû„É™„Ç≠„Éº',
                            'twitter_username (VARCHAR) - Twitter ID',
                            'desired_price (INT) - Â∏åÊúõ‰æ°Ê†º',
                            'contact_email (VARCHAR) - „É°„Éº„É´',
                            'contact_twitter (VARCHAR) - TwitterÈÄ£Áµ°ÂÖà',
                            'status (VARCHAR) - „Çπ„ÉÜ„Éº„Çø„Çπ',
                            'created_at (TIMESTAMP) - ‰ΩúÊàêÊó•ÊôÇ'
                        ]
                    },
                    {
                        title: 'admins „ÉÜ„Éº„Éñ„É´',
                        list: [
                            'id (UUID) - „Éó„É©„Ç§„Éû„É™„Ç≠„Éº',
                            'email (VARCHAR) - „É°„Éº„É´„Ç¢„Éâ„É¨„Çπ',
                            'password_hash (TEXT) - „Éë„Çπ„ÉØ„Éº„Éâ„Éè„ÉÉ„Ç∑„É•',
                            'name (VARCHAR) - ÂêçÂâç',
                            'created_at (TIMESTAMP) - ‰ΩúÊàêÊó•ÊôÇ'
                        ]
                    }
                ]
            },
            indexes: {
                title: '„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: '„Éá„Éº„Çø„Éô„Éº„Çπ„ÇØ„Ç®„É™„ÅÆ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÇíÊúÄÈÅ©Âåñ„Åô„Çã„Åü„ÇÅ„ÅÆ„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ„ÄÇÈ†ªÁπÅ„Å´Ê§úÁ¥¢„Åï„Çå„Çã„Ç´„É©„É†„Å´Ë®≠ÂÆö„Åó„Åæ„Åô„ÄÇ'
                    },
                    {
                        title: 'accounts „ÉÜ„Éº„Éñ„É´',
                        list: [
                            'idx_accounts_status ON status',
                            'idx_accounts_category ON category',
                            'idx_accounts_price ON price',
                            'idx_accounts_followers ON followers_count'
                        ]
                    },
                    {
                        title: 'purchase_requests „ÉÜ„Éº„Éñ„É´',
                        list: [
                            'idx_purchase_requests_status ON status',
                            'idx_purchase_requests_created_at ON created_at'
                        ]
                    },
                    {
                        title: 'ÂäπÊûú',
                        list: [
                            'WHEREÂè•„Åß„ÅÆÊ§úÁ¥¢„ÅåÈ´òÈÄüÂåñ',
                            'ORDER BY „Åß„ÅÆ‰∏¶„Å≥Êõø„Åà„ÅåÈ´òÈÄüÂåñ',
                            'JOIN Êìç‰Ωú„ÅåÈ´òÈÄüÂåñ',
                            '„É°„É¢„É™‰ΩøÁî®Èáè„ÅØÂ¢óÂä†Ôºà„Éà„É¨„Éº„Éâ„Ç™„ÉïÔºâ'
                        ]
                    }
                ]
            },
            rls: {
                title: 'Row Level Security (RLS)',
                sections: [
                    {
                        title: 'Ê¶ÇË¶Å',
                        content: 'PostgreSQL „ÅÆÊ©üËÉΩ„Åß„ÄÅË°å„É¨„Éô„É´„Åß„Éá„Éº„Çø„Ç¢„ÇØ„Çª„Çπ„ÇíÂà∂Âæ°„Åó„Åæ„Åô„ÄÇÁèæÂú®„ÅØÊú™ÂÆüË£Ö„Åß„Åô„Åå„ÄÅÂ∞ÜÊù•ÁöÑ„Å´„Çª„Ç≠„É•„É™„ÉÜ„Ç£Âº∑Âåñ„ÅÆ„Åü„ÇÅ„Å´Â∞éÂÖ•ÂèØËÉΩ„ÄÇ'
                    },
                    {
                        title: 'Êé®Â•®„Éù„É™„Ç∑„Éº',
                        list: [
                            'accounts: ÂÖ¨ÈñãË™≠„ÅøÂèñ„ÇäË®±ÂèØ„ÄÅÁÆ°ÁêÜËÄÖ„ÅÆ„ÅøÊõ∏„ÅçËæº„Åø',
                            'purchase_requests: ‰ΩúÊàêËÄÖ„Å®ÁÆ°ÁêÜËÄÖ„ÅÆ„Åø„Ç¢„ÇØ„Çª„Çπ',
                            'admins: ÁÆ°ÁêÜËÄÖ„ÅÆ„Åø„Ç¢„ÇØ„Çª„Çπ'
                        ]
                    },
                    {
                        title: 'ÁèæÂú®„ÅÆÂÆüË£Ö',
                        list: [
                            '„Çµ„Éº„Éê„Éº„Çµ„Ç§„Éâ„ÅßË™çË®º„ÉÅ„Çß„ÉÉ„ÇØ',
                            'API Route „ÅßÊ®©ÈôêÁ¢∫Ë™ç',
                            'NextAuth.js „Çª„ÉÉ„Ç∑„Éß„É≥Ê§úË®º'
                        ]
                    }
                ]
            }
        };

        function showModal(key) {
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modal-body');
            const content = modalContent[key];

            if (!content) return;

            let html = `<h2 class="modal-title">${content.title}</h2>`;

            content.sections.forEach(section => {
                html += `<div class="modal-section">`;
                html += `<div class="modal-section-title">${section.title}</div>`;

                if (section.content) {
                    html += `<p>${section.content}</p>`;
                }

                if (section.list) {
                    html += `<ul class="modal-list">`;
                    section.list.forEach(item => {
                        html += `<li>${item}</li>`;
                    });
                    html += `</ul>`;
                }

                html += `</div>`;
            });

            modalBody.innerHTML = html;
            modal.classList.add('active');
        }

        function closeModal() {
            const modal = document.getElementById('modal');
            modal.classList.remove('active');
        }

        // „É¢„Éº„ÉÄ„É´Â§ñ„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Åü„ÇâÈñâ„Åò„Çã
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // ESC„Ç≠„Éº„ÅßÈñâ„Åò„Çã
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>
